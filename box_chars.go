package tcg

import (
	"fmt"
)

var (
	pixelChars1x1 = []rune{
		' ', // 0
		'â–ˆ', // 1
	}

	pixelChars1x2 = []rune{
		' ', // 00
		'â–„', // 01
		'â–€', // 10
		'â–ˆ', // 11
	}

	pixelChars2x2 = []rune{
		' ', // 0000
		'â–—', // 0001
		'â––', // 0010
		'â–„', // 0011
		'â–', // 0100
		'â–', // 0101
		'â–', // 0110
		'â–Ÿ', // 0111
		'â–˜', // 1000
		'â–š', // 1001
		'â–Œ', // 1010
		'â–™', // 1011
		'â–€', // 1100
		'â–œ', // 1101
		'â–›', // 1110
		'â–ˆ', // 1111
	}

	pixelChars2x3 = []rune{
		' ', // 000000
		'ğŸ¬', // 000001
		'ğŸ¬', // 000010
		'ğŸ¬­', // 000011
		'ğŸ¬‡', // 000100
		'ğŸ¬¦', // 000101
		'ğŸ¬–', // 000110
		'ğŸ¬µ', // 000111

		'ğŸ¬ƒ', // 001000
		'ğŸ¬¢', // 001001
		'ğŸ¬“', // 001010
		'ğŸ¬±', // 001011
		'ğŸ¬‹', // 001100
		'ğŸ¬©', // 001101
		'ğŸ¬š', // 001110
		'ğŸ¬¹', // 001111

		'ğŸ¬', // 010000
		'ğŸ¬ ', // 010001
		'ğŸ¬‘', // 010010
		'ğŸ¬¯', // 010011
		'ğŸ¬‰', // 010100
		'â–', // 010101
		'ğŸ¬˜', // 010110
		'ğŸ¬·', // 010111

		'ğŸ¬…', // 011000
		'ğŸ¬¤', // 011001
		'ğŸ¬”', // 011010
		'ğŸ¬³', // 011011
		'ğŸ¬', // 011100
		'ğŸ¬«', // 011101
		'ğŸ¬œ', // 011110
		'ğŸ¬»', // 011111

		'ğŸ¬€', // 100000
		'ğŸ¬Ÿ', // 100001
		'ğŸ¬', // 100010
		'ğŸ¬®', // 100011
		'ğŸ¬ˆ', // 100100
		'ğŸ¬§', // 100101
		'ğŸ¬—', // 100110
		'ğŸ¬¶', // 100111

		'ğŸ¬„', // 101000
		'ğŸ¬£', // 101001
		'â–Œ', // 101010
		'ğŸ¬²', // 101011
		'ğŸ¬Œ', // 101100
		'ğŸ¬ª', // 101101
		'ğŸ¬›', // 101110
		'ğŸ¬º', // 101111

		'ğŸ¬‚', // 110000
		'ğŸ¬¡', // 110001
		'ğŸ¬’', // 110010
		'ğŸ¬°', // 110011
		'ğŸ¬Š', // 110100
		'ğŸ¬¨', // 110101
		'ğŸ¬™', // 110110
		'ğŸ¬¸', // 110111

		'ğŸ¬†', // 111000
		'ğŸ¬¥', // 111001
		'ğŸ¬•', // 111010
		'ğŸ¬´', // 111011
		'ğŸ¬', // 111100
		'ğŸ¬¬', // 111101
		'ğŸ¬', // 111110
		'â–ˆ', // 111111
	}

	pixelChars = [][]rune{
		Mode1x1: pixelChars1x1,
		Mode1x2: pixelChars1x2,
		Mode2x2: pixelChars2x2,
		Mode2x3: pixelChars2x3,
	}
)

func checkCharMapping(width, height int, cm []rune) error {
	if 1<<(width*height-1) != len(cm) {
		return fmt.Errorf("char list length: %d not equeal %d (2 ^ (%d * %d))", len(cm), 1<<(width*height-1), width, height)
	}
	return nil
}

func checkCM(mode PixelsInChar, cm []rune) bool {
	switch mode {
	case Mode1x1:
		return len(cm) == 2
	case Mode1x2:
		return len(cm) == 4
	case Mode2x2:
		return len(cm) == 16
	case Mode2x3:
		return len(cm) == 64
	}
	return false
}
